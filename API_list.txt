# See REST Api list on https://github.com/batocera-linux/batocera-emulationstation/blob/master/es-app/src/services/HttpServerThread.cpp#L25
#
# GET  /restart
# GET  /quit
# GET  /emukill
# GET  /reloadgames
# POST /messagebox												-> body must contain the message text as text/plain
# POST /notify													-> body must contain the message text as text/plain
# POST /launch													-> body must contain the exact file path as text/plain
# GET  /runningGame
# GET  /isIdle
# GET  /systems
# GET  /systems/{systemName}
# GET  /systems/{systemName}/logo
# GET  /systems/{systemName}/games/{gameId}		
# POST /systems/{systemName}/games/{gameId}						-> body must contain the game metadatas to save as application/json
# GET  /systems/{systemName}/games/{gameId}/media/{mediaType}
# POST /systems/{systemName}/games/{gameId}/media/{mediaType}		-> body must contain the file bytes to save. Content-type must be valid.

# port 1234 for all API calls
#

/userdata/roms/atari2600/Berzerk.bin

File APIs
---------
GET /resources/{path relative to resources}"					-> any file in resources
GET /{path relative to resources/services}"						-> any other file in resources/services



function quitES() {
	var xhr = new XMLHttpRequest();			
	xhr.open('GET', '/quit');
	xhr.send(); 
}

function reloadGamelists() {
	var xhr = new XMLHttpRequest();
	xhr.open('GET', '/reloadgames');
	xhr.send(); 
}

function emuKill() {
	var xhr = new XMLHttpRequest();
	xhr.open('GET', '/emukill');
	xhr.send();
}

function launchGame(game) {
	var xhr = new XMLHttpRequest();
	xhr.open('POST', '/launch');
	xhr.send(game);
}




function loadGames(name) {
	var xhr = new XMLHttpRequest();
	
	xhr.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			var myArr = JSON.parse(this.responseText);
			myArr.sort(getOrder("name"));
			showGames(myArr);
		}
	};

	xhr.open('GET', '/systems/' + name + '/games');
	xhr.send(); 
	
}

var xmlhttp = new XMLHttpRequest();
var url = "/systems";

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
        showSystems(myArr);
    }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();

